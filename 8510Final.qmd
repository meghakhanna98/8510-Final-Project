---
title: "Final Project"
author: "Megha Khanna"
date: "04/15/2024"
---

#For my Final project, I have utilized various codes to analyze a dataset of newspaper publications concerning Jack the Ripper and his notorious murders.

My research questions are as follows:

1.  How does the frequency and context of terms associated with Jack the Ripper differ from those related to his victims in historical newspaper articles, and what does this tell us about societal attitudes towards crime and victimhood in late Victorian England?

2.  How did the topics covered in newspaper reports change before and after 1888, the year of Jack the Ripper's crimes? What can this reveal about the influence of these events on public discourse and media focus?

##Introduction

The infamous Jack the Ripper murders of 1888, targeting several sex workers in London’s Whitechapel district, became a stark illustration of the interplay between media sensationalism, public fear, and the stigmatization of sex workers. Jack the Ripper’s name continues to resonate throughout criminal history, not just for the horrific nature of the crimes but also for the media frenzy that erupted in late Victorian England.

This analysis aims to explore the differential portrayal of Jack the Ripper compared to his victims through the lens of historical newspaper articles. By analyzing the frequency and context of words used, we can gain insights into the narrative and societal perceptions constructed by the media of that era. The other half of the analysis looks at the pre and post year 1888 and how the narratives related to crimes have significantly changes with the sensationalism of ripper crimes.

##Historical Background

The analysis delves into the socio-political atmosphere of London in the late 19th century, emphasizing the role of media in shaping the narrative around the Ripper murders. Walkowitz points out that the press sensationalized the events, thereby embedding a fear of male violence deep within the public consciousness. This sensationalism contributed to a moral panic that framed the city as a perilous place for women​​. Walkowitz argues that over the past century, Jack the Ripper has been transformed into a mythical figure representing male violence against women. This transformation has permeated cultural narratives, impacting how society views and treats women, especially in urban settings​​.

```{r}
#1 Loading libraries
library(tm)
library(topicmodels)
library(tidytext)
library(ggplot2)
library(dplyr)
library(tidyr)
library(readr)
library(stringr)

```

```{r}
#2 Reading data
casebook_final_2 <- read_csv("~/Downloads/casebook/casebook final 2.csv", show_col_types = FALSE)

```

```{r}
#3 Defining stopwords that were coming often in my dataset and then combining them with custom stopwords.
custom_stopwords <- c("aberdeen", "weekly", "times", "journal", "article", "said")
all_stopwords <- c(stopwords, custom_stopwords)

```

```{r}
#4 Now I am preprocessing the text and tokenizing
tidy_casebook <- casebook_final_2 %>%
  unnest_tokens(word, News.Reports) %>%                 
  filter(!word %in% all_stopwords) %>%                  
  mutate(word = gsub("[\\d-]+", "", word)) %>%         
  anti_join(data.frame(word = stopwords::stopwords(language = "en", source = "snowball")), by = "word")  

```

```{r}
#5 Defining keywords and filter texts for ripper and sex workers
keywords_jack <- c("jack the ripper", "jack", "murderer", "villain", "madman", "mystery", 
                   "killer", "ripper", "assassin", "butcher", "bogey man", "Whitechapel Murderer", "leather Apron")
keywords_victims <- c("victim", "sex worker", "prostitute", "deceased", "body", "woman", 
                      "women", "lady", "ladies", "alone", "public woman", "public", 
                      "public women", "dead woman", "corpse", "girl", "she", "her", 
                      "ill repute", "streetwalker", "harlot", "fallen")


```

```{r}
#6 Counting occurrences of each
jack_texts <- tidy_casebook %>%
  filter(str_detect(word, paste(keywords_jack, collapse = "|")))
victim_texts <- tidy_casebook %>%
  filter(str_detect(word, paste(keywords_victims, collapse = "|")))

jack_count <- nrow(jack_texts)
victim_count <- nrow(victim_texts)

```

```{r}
#7 Word frequency analysis for each and combined
jack_word_freq <- jack_texts %>%
  count(word, sort = TRUE) %>%
  top_n(10, n) %>%
  mutate(frequency = n / sum(n))

victim_word_freq <- victim_texts %>%
  count(word, sort = TRUE) %>%
  top_n(10, n) %>%
  mutate(frequency = n / sum(n))

combined_top10_freq <- full_join(jack_word_freq, victim_word_freq, by = "word", suffix = c("_jack", "_victim"))

jack_word_freq$dataset <- "Jack" 
victim_word_freq$dataset <- "Victim"

```

```{r}
#8 Combining datasets and plotting
combined_top10_freq <- bind_rows(jack_word_freq, victim_word_freq)

ggplot(combined_top10_freq, aes(x = reorder(word, frequency), y = frequency, fill = dataset)) +
  geom_col() +
  facet_wrap(~ dataset, scales = "free_y") +  
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
  labs(x = "Words", y = "Frequency", title = "Top 10 Frequencies of Words Related to Jack the Ripper and Victims")

```

My analysis of the terms used to describe Jack the Ripper and his victims revealed a striking disparity, potentially highlighting an imbalance in media coverage. The data suggests a focus on the sensational aspects of the murderer's identity ("ripper", "butchere", "assassin" "mystery") compared to the generic and impersonal terms used for the victims like "woman", "public". This context highlights a narrative that prioritizes the criminal's story over humanizing the victims.

This aligns with Warkentin's observation in '“Jack the Ripper” Strikes Again' of the glorification of the Ripper and the trivialization of his female victims. Originally portrayed as a near-heroic figure, the Ripper contrasted sharply with the derogatory depictions of his victims, mostly sex workers. This narrative arguably served to enforce societal norms and control women's behavior.

Further supporting this analysis, Wattis' work 'Analysing local newspaper coverage of murders
involving street sex workers' situates these local cases within a broader historical context. She identifies patterns established during the Whitechapel murders that persist: demonizing victims and glorifying perpetrators. Wattis references research demonstrating such media portrayals often reflect societal misogyny and perpetuate harmful stereotypes about sex workers.

```{r}
#1 Loading libraries
library(tidytext)
library(topicmodels)
library(lubridate)
library(dplyr)
library(tm)
library(stringr)

```

```{r}
#2 Creating separate columnsdor Year, Month and Day
casebook.new <- casebook_final_2 %>%
  mutate(date = as.Date(Full.Date, format = "%Y-%m-%d"),  
         Year = year(date),
         Month = month(date),
         Day = day(date))
custom_stop_words <- c("aberdeen", "weekly", "times", "journal", "article", "said", "dr", "mr", "b", "q.c", "c", "b.a", "w", "a", "i", "u", "m", "s", "t")
head(casebook.new)

```

```{r}
#3 Filtering before and after 1888

pre_1888 <- casebook.new %>% filter(Year < 1888)
post_1888 <- casebook.new %>% filter(Year >= 1888)

data(stop_words)  # Load standard stop words from tidytext
custom_stop_words <- tibble(word = custom_stop_words, lexicon = rep("custom", length(custom_stop_words)))
all_stop_words <- bind_rows(stop_words, custom_stop_words) %>%
  distinct() 

```

```{r}
#4 For pre-1888
pre_1888_tidy <- pre_1888 %>%
  unnest_tokens(word, News.Reports) %>%
  anti_join(all_stop_words, by = "word") %>%
  filter(str_length(word) > 1)  

```

```{r}

#5 For post-1888
post_1888_tidy <- post_1888 %>%
  unnest_tokens(word, News.Reports) %>%
  anti_join(all_stop_words, by = "word") %>%
  filter(str_length(word) > 1)
```

```{r}
#6 Creating the DTM for pre-1888
dtm_pre_1888 <- pre_1888_tidy %>%
  count(file_name = File.Names, word) %>%  
  cast_dtm(document = file_name, term = word, value = n)

```

```{r}
# 7 Creating the DTM for post-1888
dtm_post_1888 <- post_1888_tidy %>%
  count(file_name = File.Names, word) %>%  
  cast_dtm(document = file_name, term = word, value = n)

```

```{r}
#8 Applying LDA to the pre-1888 DTM
lda_pre_1888 <- LDA(dtm_pre_1888, k = 8, control = list(seed = 1234))

```

```{r}
#9 Applying LDA to the post-1888 DTM
lda_post_1888 <- LDA(dtm_post_1888, k = 8, control = list(seed = 1234))
```

```{r}
#10 Analyzing topics by extracting the terms for each topic and their probabilities
library(broom)

topics_pre_1888 <- tidy(lda_pre_1888, matrix = "beta")
topics_post_1888 <- tidy(lda_post_1888, matrix = "beta")

```

```{r}
#11 Filter topics for pre-1888
top_terms_pre_1888 <- topics_pre_1888 %>%
  filter(topic %in% 1:5) %>%
  group_by(topic) %>%
  top_n(5, beta) %>%
  ungroup() %>%
  arrange(topic, desc(beta))

```

```{r}
#12 Filter topics for post-1888
top_terms_post_1888 <- topics_post_1888 %>%
  filter(topic %in% 1:5) %>%
  group_by(topic) %>%
  top_n(5, beta) %>%
  ungroup() %>%
  arrange(topic, desc(beta))

```

```{r}
#
library(ggplot2)
library(tidytext) 

ggplot(top_terms_pre_1888, aes(x = beta, y = reorder_within(term, beta, topic), fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free_y") +
  scale_y_reordered() +
  theme_minimal() +
  theme(
    axis.text.x = element_text(size = 10),
    axis.text.y = element_text(size = 10),
    strip.text = element_text(size = 12)
  ) +
  labs(x = "Beta", y = "Terms", title = "Top Terms per Topic in Pre-1888")

```

```{r}
library(ggplot2)
library(tidytext)

ggplot(top_terms_post_1888, aes(x = beta, y = reorder_within(term, beta, topic), fill = factor(topic))) +
  geom_col(show.legend = FALSE) +
  facet_wrap(~ topic, scales = "free_y") +
  scale_y_reordered() +
  theme_minimal() +
  theme(
    axis.text.x = element_text(size = 10),
    axis.text.y = element_text(size = 10),
    strip.text = element_text(size = 12)
  ) +
  labs(x = "Beta", y = "Terms", title = "Top Terms per Topic in Post 1888")

```

The topics covered in the pre-1888 data was about a variety of subjects, including legal proceedings, notable individuals, societal institutions, health and medical news, and crime reports. The discussions seemed more diverse, covering different societal elements without a dominating, singular focus.

Post-1888 Findings shows a clear thematic shift toward crime and public safety is evident, with multiple topics directly or indirectly referencing elements of the Jack the Ripper case. The geographical focus on Whitechapel and the recurrence of words like "ripper" and "jack" show a concentrated media interest in the murders. The word "woman" frequently appearing in the context of street and murder suggests a heightened discourse on women's safety and victimhood, specifically in relation to the Ripper case.

Before 1888, the spread of topics indicates a broader range of interests and a more evenly distributed public discourse. However, after 1888, the discourse narrows significantly, with the Ripper case becoming a central theme, influencing the frequency and context of terms associated with crime, policing, and societal safety.

Conclusion -

Through text analysis, I was able to find that the language used suggests a societal fascination with the macabre details of the crimes and the Ripper's enigmatic persona. The victims, however, are portrayed in a way that may reinforce stigmas, particularly against marginalized women or probably just women with simply no compassion. This data reflects a potential societal tendency to sensationalize criminals, potentially hindering a compassionate and just representation of victims, especially sex workers.

Bibliography-

“Ripper Press Reports Dataset · Brandon Walsh.” n.d. Walshbr.com. Accessed April 28, 2024. https://walshbr.com/blog/ripper-dataset/.

‌“Casebook: Jack the Ripper - Main.” n.d. Www.casebook.org. https://www.casebook.org.		

Elyssa Warkentin (2010) "Jack the Ripper” Strikes Again", Feminist Media Studies, 10:1, 35-49, DOI: 10.1080/14680770903457097				

Louise Wattis (2022) Analysing local newspaper coverage of murders involving street sex workers, Feminist Media Studies, 22:2, 425-440, DOI: 10.1080/14680777.2020.1804975
